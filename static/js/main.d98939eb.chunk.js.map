{"version":3,"sources":["index.js"],"names":["App","state","finish","message","event","buttons","document","querySelectorAll","querySelector","this","target","innerHTML","classList","add","className","forEach","item","setState","emptyCells","Array","from","filter","randomCell","min","max","rand","Math","random","round","randomInteger","length","console","log","alert","elem","documentElement","fullscreenElement","mozFullScreenElement","webkitFullscreenElement","msFullscreenElement","exitFullscreen","msExitFullscreen","mozCancelFullScreen","webkitExitFullscreen","requestFullscreen","msRequestFullscreen","mozRequestFullScreen","webkitRequestFullscreen","Element","ALLOW_KEYBOARD_INPUT","id","onClick","fullscreen","bind","playAgain","play","href","alt","src","width","React","Component","ReactDOM","render","getElementById"],"mappings":"yNAIMA,E,kDACJ,aAAe,IAAD,8BACd,gBACKC,MAAQ,CAACC,QAAQ,EAAOC,QAAS,cAFxB,E,wCAKd,SAAKC,GACH,IAAIC,EAAUC,SAASC,iBAAiB,UACpCJ,EAAUG,SAASE,cAAc,YAErC,IAAIC,KAAKR,MAAMC,OAEf,GAA+B,WAA3BE,EAAMM,OAAOC,WAAgD,MAA3BP,EAAMM,OAAOC,UAAnD,CASA,GALEP,EAAMM,OAAOC,UAAY,SACzBP,EAAMM,OAAOE,UAAUC,IAAI,KAC3BV,EAAQW,UAAW,GAIS,WAAzBT,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAClD,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,WAA8C,WAAzBN,EAAQ,GAAGM,UAQ9E,OANAN,EAAQU,SAAQ,SAAAC,GACdA,EAAKJ,UAAUC,IAAI,eAErBV,EAAQW,UAAW,MACnBL,KAAKQ,SAAS,CAACd,QAAS,kCACxBM,KAAKQ,SAAS,CAACf,QAAQ,IAIvB,IAAIgB,EAAaC,MAAMC,KAAKf,GAASgB,QAAO,SAAAL,GAAI,MAAuB,KAAnBA,EAAKL,aACrDW,EA4BN,SAAuBC,EAAKC,GAC1B,IAAIC,EAAOF,EAAM,GAAMG,KAAKC,UAAYH,EAAMD,EAAM,GACpD,OAAOG,KAAKE,MAAMH,GA9BDI,CAAc,EAAGX,EAAWY,OAAO,GAQpD,GAPAC,QAAQC,IAAI,CAACV,cAAaJ,EAAWY,OAAO,GAExCZ,EAAWI,KACbJ,EAAWI,GAAYX,UAAY,IACnCO,EAAWI,GAAYV,UAAUC,IAAI,MAIX,MAAzBR,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAClD,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,WAA8C,MAAzBN,EAAQ,GAAGM,UAQ5E,OANAN,EAAQU,SAAQ,SAAAC,GACdA,EAAKJ,UAAUC,IAAI,eAErBV,EAAQW,UAAW,QACnBL,KAAKQ,SAAS,CAACd,QAAS,6BACxBM,KAAKQ,SAAS,CAACf,QAAQ,SAnDzB+B,MAAM,sD,uBA+DV,WACgB3B,SAASC,iBAAiB,UAChCQ,SAAQ,SAAAC,GACdA,EAAKL,UAAY,GACjBK,EAAKF,UAAY,SAELR,SAASE,cAAc,YAC7BM,UAAY,WACpBL,KAAKQ,SAAS,CAACd,QAAS,eACxBM,KAAKQ,SAAS,CAACf,QAAQ,M,wBAGzB,SAAWgC,GACTA,EAAOA,GAAQ5B,SAAS6B,gBACnB7B,SAAS8B,mBAAsB9B,SAAS+B,sBAC1C/B,SAASgC,yBAA4BhC,SAASiC,oBAW3CjC,SAASkC,eACXlC,SAASkC,iBACAlC,SAASmC,iBAClBnC,SAASmC,mBACAnC,SAASoC,oBAClBpC,SAASoC,sBACApC,SAASqC,sBAClBrC,SAASqC,uBAjBPT,EAAKU,kBACPV,EAAKU,oBACIV,EAAKW,oBACdX,EAAKW,sBACIX,EAAKY,qBACdZ,EAAKY,uBACIZ,EAAKa,yBACdb,EAAKa,wBAAwBC,QAAQC,wB,oBAiB3C,WACE,OACA,sBAAKnC,UAAU,UAAf,UACE,qBAAKA,UAAU,SAAf,SACE,0DAEF,qBAAKoC,GAAG,gBAAgBC,QAAS1C,KAAK2C,WAAWC,KAAK5C,KAAMH,SAAS6B,iBAArE,+BACA,qBAAKe,GAAG,UAAUpC,UAAU,WAAWqC,QAAS1C,KAAK6C,UAAUD,KAAK5C,MAApE,SAA4EA,KAAKR,MAAME,UACrF,sBAAKW,UAAU,QAAf,UACA,wBAAQA,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,QAChD,wBAAQK,UAAU,MAAMqC,QAAS1C,KAAK8C,KAAKF,KAAK5C,WAElD,sBAAKK,UAAU,SAAf,4CAE+B,mBAAG0C,KAAK,kCAAR,kCAF/B,OAEqG,mBAAGA,KAAK,wBAAR,SAAgC,qBAAKC,IAAI,iBAAiBC,IAAI,4CAA4CC,MAAM,oB,GAzIzMC,IAAMC,WAmJxBC,IAASC,OACP,cAAC/D,EAAD,IACAM,SAAS0D,eAAe,W","file":"static/js/main.d98939eb.chunk.js","sourcesContent":["import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\n\r\nclass App extends React.Component {\r\n  constructor() {\r\n\t\tsuper();\r\n\t\tthis.state = {finish: false, message: 'Play again'};\r\n\t}\r\n\r\n  play(event) {\r\n    let buttons = document.querySelectorAll('button');\r\n    let message = document.querySelector('#message');\r\n\r\n    if (this.state.finish) return;\r\n\r\n    if (event.target.innerHTML === '✖' || event.target.innerHTML === 'O'){\r\n      alert('This place is already occupied. Try another one.');\r\n      return;\r\n    } else {\r\n      event.target.innerHTML = '✖';\r\n      event.target.classList.add('x');\r\n      message.className ='';\r\n    }\r\n\r\n    if (\r\n        (buttons[0].innerHTML === '✖' && buttons[1].innerHTML === '✖' && buttons[2].innerHTML === '✖') ||\r\n        (buttons[3].innerHTML === '✖' && buttons[4].innerHTML === '✖' && buttons[5].innerHTML === '✖') ||\r\n        (buttons[6].innerHTML === '✖' && buttons[7].innerHTML === '✖' && buttons[8].innerHTML === '✖') ||\r\n        (buttons[0].innerHTML === '✖' && buttons[3].innerHTML === '✖' && buttons[6].innerHTML === '✖') ||\r\n        (buttons[1].innerHTML === '✖' && buttons[4].innerHTML === '✖' && buttons[7].innerHTML === '✖') ||\r\n        (buttons[2].innerHTML === '✖' && buttons[5].innerHTML === '✖' && buttons[8].innerHTML === '✖') ||\r\n        (buttons[0].innerHTML === '✖' && buttons[4].innerHTML === '✖' && buttons[8].innerHTML === '✖') ||\r\n        (buttons[2].innerHTML === '✖' && buttons[4].innerHTML === '✖' && buttons[6].innerHTML === '✖')\r\n        ) {\r\n      buttons.forEach(item => {\r\n        item.classList.add('disabled');\r\n      });    \r\n      message.className ='win';\r\n      this.setState({message: '✖ wins. Play again?'});\r\n      this.setState({finish: true});\r\n      return;\r\n    }\r\n \r\n      let emptyCells = Array.from(buttons).filter(item => item.innerHTML === '');\r\n      let randomCell = randomInteger(0, emptyCells.length-1);\r\n      console.log({randomCell}, emptyCells.length-1);\r\n\r\n      if (emptyCells[randomCell]){\r\n        emptyCells[randomCell].innerHTML = 'O';\r\n        emptyCells[randomCell].classList.add('o');\r\n      }\r\n\r\n      if (\r\n        (buttons[0].innerHTML === 'O' && buttons[1].innerHTML === 'O' && buttons[2].innerHTML === 'O') ||\r\n        (buttons[3].innerHTML === 'O' && buttons[4].innerHTML === 'O' && buttons[5].innerHTML === 'O') ||\r\n        (buttons[6].innerHTML === 'O' && buttons[7].innerHTML === 'O' && buttons[8].innerHTML === 'O') ||\r\n        (buttons[0].innerHTML === 'O' && buttons[3].innerHTML === 'O' && buttons[6].innerHTML === 'O') ||\r\n        (buttons[1].innerHTML === 'O' && buttons[4].innerHTML === 'O' && buttons[7].innerHTML === 'O') ||\r\n        (buttons[2].innerHTML === 'O' && buttons[5].innerHTML === 'O' && buttons[8].innerHTML === 'O') ||\r\n        (buttons[0].innerHTML === 'O' && buttons[4].innerHTML === 'O' && buttons[8].innerHTML === 'O') ||\r\n        (buttons[2].innerHTML === 'O' && buttons[4].innerHTML === 'O' && buttons[6].innerHTML === 'O')\r\n        ) {\r\n        buttons.forEach(item => {\r\n          item.classList.add('disabled');\r\n        });  \r\n        message.className ='loose';\r\n        this.setState({message: 'O wins. Play again?'});\r\n        this.setState({finish: true});\r\n        return;\r\n      }\r\n    \r\n\r\n    function randomInteger(min, max) {\r\n      let rand = min - 0.5 + Math.random() * (max - min + 1);\r\n      return Math.round(rand);\r\n    }\r\n\r\n  }\r\n\r\n  playAgain() {\r\n    let buttons = document.querySelectorAll('button');\r\n    buttons.forEach(item => {\r\n      item.innerHTML = '';\r\n      item.className = 'bar';\r\n    });\r\n    let message = document.querySelector('#message');\r\n    message.className = 'disabled';\r\n    this.setState({message: 'Play again'});\r\n    this.setState({finish: false});\r\n  }\r\n\r\n  fullscreen(elem) {\r\n    elem = elem || document.documentElement;\r\n    if (!document.fullscreenElement && !document.mozFullScreenElement &&\r\n      !document.webkitFullscreenElement && !document.msFullscreenElement) {\r\n      if (elem.requestFullscreen) {\r\n        elem.requestFullscreen();\r\n      } else if (elem.msRequestFullscreen) {\r\n        elem.msRequestFullscreen();\r\n      } else if (elem.mozRequestFullScreen) {\r\n        elem.mozRequestFullScreen();\r\n      } else if (elem.webkitRequestFullscreen) {\r\n        elem.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);\r\n      }\r\n    } else {\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n      } else if (document.msExitFullscreen) {\r\n        document.msExitFullscreen();\r\n      } else if (document.mozCancelFullScreen) {\r\n        document.mozCancelFullScreen();\r\n      } else if (document.webkitExitFullscreen) {\r\n        document.webkitExitFullscreen();\r\n      }\r\n    }\r\n    \r\n  }\r\n  \r\n\r\n  render() {\r\n    return (\r\n    <div className=\"wrapper\">\r\n      <div className=\"header\">\r\n        <h1>Tic-tac-toe React game</h1> \r\n      </div>\r\n      <div id=\"btnfullscreen\" onClick={this.fullscreen.bind(this, document.documentElement)}>Fullscreen on/off</div>\r\n      <div id=\"message\" className=\"disabled\" onClick={this.playAgain.bind(this)}>{this.state.message}</div>\r\n        <div className=\"field\">\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n        <button className=\"bar\" onClick={this.play.bind(this)}></button>\r\n      </div>\r\n      <div className=\"footer\">\r\n      \r\n      This game developed in 2021 by <a href=\"https://github.com/iq-developer\">Vladimir Sevastianov</a> at <a href=\"https://rs.school/js/\"><img alt=\"RS School logo\" src=\"https://rs.school/images/rs_school_js.svg\" width=\"100\" /></a>  \r\n      </div>\r\n    </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\nReactDOM.render(\r\n  <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}